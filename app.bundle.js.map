{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/constants.js","webpack:///./src/progressive-controls.js","webpack:///./src/button.js","webpack:///./src/text-panel.js","webpack:///./src/tutorial-step.js","webpack:///./src/tutorial.js","webpack:///./src/help.js","webpack:///./src/year-selector.js","webpack:///./src/selection-info.js","webpack:///./src/selection-handler.js","webpack:///./src/hover-handler.js","webpack:///./src/candidate-info.js","webpack:///./src/cartogram-renderer.js","webpack:///./src/election-data-loader.js","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","p","jsonpArray","window","oldJsonpFunction","bind","slice","THREE","AFRAME","DARK_GRAY","Color","REPUBLICAN_RED","DEMOCRAT_BLUE","LIBERTARIAN_GOLD","GREEN_PARTY_GREEN","INDEPENDENT_PURPLE","YEARS","updateMixin","mixin","attr","additions","stringify","utils","styleParser","extend","old","getAttribute","setAttribute","registerComponent","schema","maxLevel","default","oneOf","gazeMixin","pointMixin","touchMixin","override","objects","controllerModel","init","_this","this","levels","currentLevel","Map","controllerName","assets","el","sceneEl","querySelector","appendChild","document","createElement","gazeDefault","shRayConfig","colliderEvent","colliderEventProperty","colliderEndEvent","colliderEndEventProperty","colliderState","pointDefault","touchDefault","camera","parseFloat","version","caster","forEach","hand","ctrlrCompConfig","model","ctrlr","addEventListener","e","detectLevel","eventRepeaterB","eventRepeater","addEventListeners","set","update","oldData","objs","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","_ref","_ref2","_slicedToArray","level","setLevel","err","return","remove","eventsRegistered","canv","canvas","removeEventListener","newLevel","force","indexOf","currentHand","removeChild","gazeDefaultId","ctrlrName","ctrlrCfg","controllerConfig","pntMixin","raycaster","pointDefaultId","tchMixin","touchDefaultId","emit","evt","detail","component","type","startsWith","preventDefault","gearvr-controls","origin","x","y","z","oculus-touch-controls","direction","oculus-go-controls","windows-motion-controls","textColor","textWrapCount","buttonColor","borderColor","selectionColor","buttonHeight","buttonWidth","handleHoverStart","handleHoverEnd","handleStateChange","renderLayout","deepEqual","buttonBorder","button","setTimeout","components","haptics","pulse","primitive","height","width","registerPrimitive","defaultComponents","geometry","material","shader","color","opacity","text","align","wrapCount","mappings","textcolor","textalign","textwrapcount","textvalue","panelcolor","textopacity","dur","controllerTypes","triggerEvent","anchor","offset","handleAnimationComplete","handleTriggerEvent","stepEl","object3D","visible","fadeinProps","easing","from","to","startEvents","_extends","fadeoutProps","console","log","timeoutId","clearTimeout","show","hide","currentStep","superHands","handleControllerChange","tutorialSteps","querySelectorAll","handleNextStep","handleStartTutorial","startTutorialButton","transition","prevStep","nextStep","timer","progressiveControls","lvl","controllerType","device","checkHeadsetConnected","size","determineRelevantSteps","step","types","includes","hideHelp","helpEls","clearHelpEls","setupGazeHelp","target","setupRightPointerHelp","setupLeftPointerHelp","showHelp","createTextPanel","textPanel","controlsEl","clearPointerHelpEls","helpText","isMobile","gazeHelp","parentEl","clearGazeHelpEl","rightPointerHelpEl","right","leftPointerHelpEl","left","keys","key","_this2","_constants","dataLayer","selectedYear","createButtons","year","buttons","event","_this3","_this4","xPos","_d3Format","state","candidate","party","votes","electoralVotes","totalVotes","percentage","voteFormatter","format","totalVoteFormatter","percentageFormatter","getInfoText","selectionBox","Box3Helper","Box3","setObject3D","stateBox","infoPanelAnchorPosition","Vector3","infoPanel","infoPanelText","infoPanelHighlight","handleSelection","turnSelectionOff","targetEl","isAlreadySelected","isSelectable","setSelectionTo","selected","selectedObj","getObject3D","computeBoundingBox","showSelectionBoxFor","showInfoPanel","selectedObjWorldCenter","getWorldPosition","boxCenter","worldToLocal","setFromCenterAndSize","boundingBox","getSize","box","selectionInfoComp","calculateInfoPanelAnchorPosition","position","copy","_selectionInfoComp$da","setFromObject","getCenter","setY","max","needsPositionUpdate","equals","tick","hoverBox","hoverable","constants","candidateInfo","Trump, Donald J.","firstName","lastName","Clinton, Hillary","Johnson, Gary","Stein, Jill","McMullin, Evan","Obama, Barack","Romney, Mitt","McCain, John","Nader, Ralph","Barr, Bob","Bush, George W.","Kerry, John F.","Badnarik, Michael","_d3Scale","_candidateInfo","invisibleMaterial","MeshBasicMaterial","dependencies","maxExtrudeHeight","geoProjectionComponent","system","systems","handleGeoDataReady","handleElectionDataReady","clearMap","render","electionDataLoadEvent","votesByFipsCode","maxTotalVoters","isReady","geoJson","extrudeScale","scaleLinear","domain","range","candidateMetadata","features","feature","votingData","id","stateShapes","renderToContext","projection","toShapes","zPosition","stateSelectionEntity","candidateData","totalVoters","info","_candidateInfo2","Geometry","candidateMetadatum","extrudeGeometry","featureGeometry","extrudeSettings","amount","bevelEnabled","stateShape","extrudedFeatureGeometry","ExtrudeGeometry","center","scale","translate","merge","createExtrudedAndScaledGeometryPerShape","createExtrudedAndScaledGeometry","candidateName","attributes","properties","getHexString","selectionMask","inputGeometry","selectionMaskGeometry","BufferGeometry","fromGeometry","mesh","Mesh","selectionMaskEntity","createSelectionMask","extrudeBufferGeometry","MeshLambertMaterial","extrudedMap","mapRenderContextForOutline","stateOutlineGeometry","stateOutlineVertices","toVertices","addAttribute","Float32BufferAttribute","stateOutlineMaterial","LineBasicMaterial","stateOutlines","LineSegments","clearAll","arguments","object3DMap","removeObject3D","maskEl","_maxvoters","handleDataLoaded","handleYearChanged","yearText","fetch","then","response","json","catch","error","reduce","accum","fips","_maxvoters2"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({}[chunkId]||chunkId) + \".bundle.js\"\n \t}\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([31,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","const { AFRAME } = window;\nconst { THREE } = AFRAME;\n\nexport const DARK_GRAY = new THREE.Color(0x56565a);\nexport const REPUBLICAN_RED = new THREE.Color(0xE91D0E);\nexport const DEMOCRAT_BLUE = new THREE.Color(0x232066);\nexport const LIBERTARIAN_GOLD = new THREE.Color(0xE5C601);\nexport const GREEN_PARTY_GREEN = new THREE.Color(0x00A95C);\nexport const INDEPENDENT_PURPLE = new THREE.Color(0x9400D3);\n\nexport const YEARS = ['2016', '2012', '2008', '2004'];\n","/* eslint-disable */\nimport 'aframe';\n\nconst { AFRAME } = window;\nconst gazeDefaultId = 'progressivecontrolsgazedefault'\nconst pointDefaultId = 'progressivecontrolspointdefault'\nconst touchDefaultId = 'progressivecontrolstouchdefault'\n\nAFRAME.registerComponent('progressive-controls', {\n    schema: {\n        maxLevel: { default: 'touch', oneOf: ['gaze', 'point', 'touch'] },\n        gazeMixin: { default: '' },\n        pointMixin: { default: '' },\n        touchMixin: { default: '' },\n        override: { default: false },\n        objects: { default: '' },\n        controllerModel: { default: true }\n    },\n    init: function () {\n        const rayEndProp = 'clearedEls'\n        this.levels = ['gaze', 'point', 'touch']\n        this.currentLevel = new Map()\n        this.controllerName = new Map()\n\n        // setup mixins for defaults\n        const assets = this.el.sceneEl.querySelector('a-assets') ||\n            this.el.sceneEl.appendChild(document.createElement('a-assets'))\n        const gazeDefault = this.gazeDefault = document.createElement('a-mixin')\n        const shRayConfig = AFRAME.utils.styleParser.stringify({\n            colliderEvent: 'raycaster-intersection',\n            colliderEventProperty: 'els',\n            colliderEndEvent: 'raycaster-intersection-cleared',\n            colliderEndEventProperty: rayEndProp,\n            colliderState: ''\n        })\n        gazeDefault.setAttribute('id', gazeDefaultId)\n        gazeDefault.setAttribute('geometry', 'primitive: ring;' +\n            'radiusOuter: 0.008; radiusInner: 0.005; segmentsTheta: 32')\n        gazeDefault.setAttribute('material', 'color: #000; shader: flat')\n        gazeDefault.setAttribute('position', '0 0 -0.5')\n        gazeDefault.setAttribute('raycaster', '')\n        gazeDefault.setAttribute('super-hands', shRayConfig)\n        const pointDefault = this.pointDefault = document.createElement('a-mixin')\n        pointDefault.setAttribute('id', pointDefaultId)\n        pointDefault.setAttribute('raycaster', 'showLine: true')\n        pointDefault.setAttribute('super-hands', shRayConfig)\n        const touchDefault = this.touchDefault = document.createElement('a-mixin')\n        touchDefault.setAttribute('id', touchDefaultId)\n        touchDefault.setAttribute('super-hands', '')\n        touchDefault.setAttribute('sphere-collider', '')\n        if (this.el.sceneEl.getAttribute('physics')) {\n            const physicsBodyDefault = 'shape: sphere; sphereRadius: 0.02'\n            pointDefault.setAttribute('static-body', physicsBodyDefault)\n            gazeDefault.setAttribute('static-body', physicsBodyDefault)\n            touchDefault.setAttribute('static-body', physicsBodyDefault)\n        }\n        assets.appendChild(gazeDefault)\n        assets.appendChild(pointDefault)\n        assets.appendChild(touchDefault)\n\n        this.camera = this.el.querySelector('a-camera,[camera]')\n        if (!this.camera) {\n            this.camera = this.el.appendChild(document.createElement('a-camera'))\n            // DEPRECATION path: camera y instead of userHeight in verions >= 0.8\n            if (parseFloat(AFRAME.version) > 0.7) {\n                this.camera.setAttribute('position', '0 1.6 0')\n            }\n        }\n        this.caster = this.camera.querySelector('.gazecaster') ||\n            this.camera.appendChild(document.createElement('a-entity'))\n        ;['left', 'right'].forEach(hand => {\n            // find controller by left-controller/right-controller class or create one\n            this[hand] = this.el.querySelector('.' + hand + '-controller') ||\n                this.el.appendChild(document.createElement('a-entity'))\n            const ctrlrCompConfig = {\n                    hand: hand,\n                    model: this.data.controllerModel\n                }\n            ;['daydream-controls', 'gearvr-controls', 'oculus-touch-controls',\n                'vive-controls', 'windows-motion-controls', 'oculus-go-controls']\n                .forEach(ctrlr => this[hand].setAttribute(ctrlr, ctrlrCompConfig))\n        })\n        this.el.addEventListener('controllerconnected', e => this.detectLevel(e))\n        this.eventRepeaterB = this.eventRepeater.bind(this)\n        // pass mouse and touch events into the scene\n        this.addEventListeners()\n        // default level\n        this.currentLevel.set('right', 0)\n    },\n    update: function (oldData) {\n        const objs = { objects: this.data.objects }\n        updateMixin(this.gazeDefault, 'raycaster', objs)\n        updateMixin(this.pointDefault, 'raycaster', objs)\n        updateMixin(this.touchDefault, 'sphere-collider', objs)\n        for (let [hand, level] of this.currentLevel) {\n            this.setLevel(level, hand, true)\n        }\n    },\n    remove: function () {\n        if (!this.eventsRegistered) {\n            return\n        }\n        const canv = this.el.sceneEl.canvas\n        canv.removeEventListener('mousedown', this.eventRepeaterB)\n        canv.removeEventListener('mouseup', this.eventRepeaterB)\n        canv.removeEventListener('touchstart', this.eventRepeaterB)\n        canv.removeEventListener('touchend', this.eventRepeaterB)\n    },\n    setLevel: function (newLevel, hand, force) {\n        hand = hand || 'right'\n        const maxLevel = this.levels.indexOf(this.data.maxLevel)\n        const currentHand = this[hand]\n        const override = this.data.override\n        newLevel = newLevel > maxLevel ? maxLevel : newLevel\n        if (newLevel === this.currentLevel.get(hand) && !force) {\n            return\n        }\n        if (newLevel !== 0 && this.caster) {\n            // avoids error where physics system tries to tick on removed entity\n            this.caster.setAttribute('mixin', '')\n            this.camera.removeChild(this.caster)\n            this.caster = null\n        }\n        switch (newLevel) {\n        case this.levels.indexOf('gaze'):\n            const gazeMixin = this.data.gazeMixin\n            this.caster.setAttribute(\n                'mixin',\n                (override && gazeMixin.length ? '' : gazeDefaultId + ' ') + gazeMixin\n            )\n            break\n        case this.levels.indexOf('point'):\n            const ctrlrName = this.controllerName.get(hand)\n            const ctrlrCfg = this.controllerConfig[ctrlrName]\n            const pntMixin = this.data.pointMixin\n            if (ctrlrCfg && ctrlrCfg.raycaster) {\n                currentHand.setAttribute('raycaster', ctrlrCfg.raycaster)\n            }\n            currentHand.setAttribute(\n                'mixin',\n                (override && pntMixin.length ? '' : pointDefaultId + ' ') + pntMixin\n            )\n            break\n        case this.levels.indexOf('touch'):\n            const tchMixin = this.data.touchMixin\n            currentHand.setAttribute(\n                'mixin',\n                (override && tchMixin.length ? '' : touchDefaultId + ' ') + tchMixin\n            )\n            break\n        }\n        this.currentLevel.set(hand, newLevel)\n        this.el.emit('controller-progressed', {\n            level: this.levels[newLevel],\n            hand: hand\n        })\n    },\n    detectLevel: function (evt) {\n        const DOF6 = ['vive-controls', 'oculus-touch-controls',\n            'windows-motion-controls']\n        const DOF3 = ['gearvr-controls', 'daydream-controls', 'oculus-go-controls']\n        const hand = evt.detail.component.data.hand || 'right'\n        this.controllerName.set(hand, evt.detail.name)\n        if (DOF6.indexOf(evt.detail.name) !== -1) {\n            this.setLevel(this.levels.indexOf('touch'), hand)\n        } else if (DOF3.indexOf(evt.detail.name) !== -1) {\n            this.setLevel(this.levels.indexOf('point'), hand)\n        }\n    },\n    eventRepeater: function (evt) {\n        if (!this.caster) {\n            return\n        } // only for gaze mode\n        if (evt.type.startsWith('touch')) {\n            evt.preventDefault()\n            // avoid repeating touchmove because it interferes with look-controls\n            if (evt.type === 'touchmove') {\n                return\n            }\n        }\n        this.caster.emit(evt.type, evt.detail)\n    },\n    addEventListeners: function () {\n        if (!this.el.sceneEl.canvas) {\n            this.el.sceneEl\n                .addEventListener('loaded', this.addEventListeners.bind(this))\n            return\n        }\n        this.el.sceneEl.canvas.addEventListener('mousedown', this.eventRepeaterB)\n        this.el.sceneEl.canvas.addEventListener('mouseup', this.eventRepeaterB)\n        this.el.sceneEl.canvas.addEventListener('touchstart', this.eventRepeaterB)\n        this.el.sceneEl.canvas.addEventListener('touchmove', this.eventRepeaterB)\n        this.el.sceneEl.canvas.addEventListener('touchend', this.eventRepeaterB)\n        this.eventsRegistered = true\n    },\n    controllerConfig: {\n        'gearvr-controls': {\n            raycaster: { origin: { x: 0, y: 0.0005, z: 0 } }\n        },\n        'oculus-touch-controls': {\n            raycaster: { origin: { x: 0.001, y: 0, z: 0.065 }, direction: { x: 0, y: -0.8, z: -1 } }\n        },\n        'oculus-go-controls': {\n            raycaster: { origin: { x: 0, y: 0.0005, z: 0 } }\n        },\n        'windows-motion-controls': {\n            raycaster: { direction: { x: 0, y: -0.4472, z: -0.8944 } }\n        }\n    }\n})\n\nfunction updateMixin(mixin, attr, additions) {\n    const stringify = AFRAME.utils.styleParser.stringify\n    const extend = AFRAME.utils.extend\n    const old = mixin.getAttribute(attr)\n    if (old) {\n        mixin.setAttribute(attr, stringify(extend(old, additions)))\n    }\n}\n","import 'aframe';\n\nconst { AFRAME } = window;\n\n/**\n * Displays a selectable button for each year\n */\nAFRAME.registerComponent('button', {\n    schema: {\n        value: {\n            type: 'string'\n        },\n        textColor: {\n            type: 'color',\n            default: '#000000'\n        },\n        textWrapCount: {\n            default: 4\n        },\n        buttonColor: {\n            type: 'color',\n            default: '#FFFFFF'\n        },\n        borderColor: {\n            type: 'color',\n            default: '#000000'\n        },\n        selectionColor: {\n            type: 'color',\n            default: '#E5C601'\n        },\n        buttonHeight: {\n            default: 0.25\n        },\n        buttonWidth: {\n            default: 0.5\n        }\n    },\n\n    init() {\n        this.handleHoverStart = this.handleHoverStart.bind(this);\n        this.handleHoverEnd = this.handleHoverEnd.bind(this);\n        this.handleStateChange = this.handleStateChange.bind(this);\n        this.renderLayout();\n    },\n\n    update(oldData) {\n        if (!AFRAME.utils.deepEqual(oldData, this.data)) {\n            this.renderLayout();\n        }\n    },\n\n    remove() {\n        this.buttonBorder.removeEventListener('hover-start', this.handleHoverStart);\n        this.buttonBorder.removeEventListener('hover-end', this.handleHoverEnd);\n        this.button.removeEventListener('stateadded', this.handleStateChange);\n    },\n\n    handleStateChange(evt) {\n        if (evt.detail === 'clicked') {\n            this.button.setAttribute('material', 'color', this.data.selectionColor);\n            this.el.emit('clicked');\n            window.setTimeout(() => {\n                this.button.setAttribute('material', 'color', this.data.buttonColor);\n            }, 100);\n        }\n    },\n\n    handleHoverStart(evt) {\n        this.buttonBorder.setAttribute('material', 'color', this.data.selectionColor);\n        if (evt.detail.hand.components.haptics) {\n            evt.detail.hand.components.haptics.pulse(0.2, 10);\n        }\n    },\n\n    handleHoverEnd() {\n        this.buttonBorder.setAttribute('material', 'color', this.data.borderColor);\n    },\n\n    renderLayout() {\n        if (!this.button) {\n            this.button = document.createElement('a-entity');\n            this.button.setAttribute('class', 'selectable button');\n            this.button.setAttribute('clickable', {});\n            this.button.setAttribute('onclick', 'this.emit(\"grab-start\", {}); this.emit(\"grab-end\", {});');\n            this.button.addEventListener('stateadded', this.handleStateChange);\n            this.button.setAttribute('material', 'shader', 'flat');\n            this.button.setAttribute('text', 'align', 'center');\n            this.el.appendChild(this.button);\n        }\n        this.button.setAttribute('geometry', { primitive: 'plane', height: this.data.buttonHeight, width: this.data.buttonWidth });\n        this.button.setAttribute('material', 'color', this.data.buttonColor);\n        this.button.setAttribute('text', 'value', this.data.value);\n        this.button.setAttribute('text', 'color', this.data.textColor);\n        this.button.setAttribute('text', 'wrapCount', this.data.textWrapCount);\n\n        if (!this.buttonBorder) {\n            this.buttonBorder = document.createElement('a-plane');\n            this.buttonBorder.setAttribute('class', 'border');\n            this.buttonBorder.setAttribute('hoverable', {});\n            this.buttonBorder.setAttribute('position', '0 0 -0.005');\n            this.buttonBorder.setAttribute('material', 'shader', 'flat');\n            this.buttonBorder.addEventListener('hover-start', this.handleHoverStart);\n            this.buttonBorder.addEventListener('hover-end', this.handleHoverEnd);\n            this.button.appendChild(this.buttonBorder);\n        }\n        const scaleFactor = 0.16;\n        this.buttonBorder.setAttribute('height', this.data.buttonHeight * (1 + scaleFactor));\n        this.buttonBorder.setAttribute('width', this.data.buttonWidth * (1 + (scaleFactor / 2)));\n        this.buttonBorder.setAttribute('material', 'color', this.data.borderColor);\n    }\n});\n","import 'aframe';\n\nconst { AFRAME } = window;\n\nAFRAME.registerPrimitive('a-text-panel', {\n    defaultComponents: {\n        geometry: {\n            primitive: 'plane',\n            width: 0.5,\n            height: 'auto'\n        },\n        material: {\n            shader: 'flat',\n            color: 'black',\n            opacity: 1\n        },\n        text: {\n            color: 'white',\n            align: 'left',\n            wrapCount: 20\n        }\n    },\n\n    mappings: {\n        primitive: 'geometry.primitive',\n        width: 'geometry.width',\n        textcolor: 'text.color',\n        textalign: 'text.align',\n        textwrapcount: 'text.wrapCount',\n        textvalue: 'text.value',\n        panelcolor: 'material.color',\n        opacity: 'material.opacity',\n        textopacity: 'text.opacity'\n    }\n});\n","import 'aframe';\n\nconst { AFRAME } = window;\n/*\nproblems to solve:\n* Anchor to either the camera or a fixed point\n* trigger for a particular controller type, though maybe that's a responsibility of tutorial\n* transition when a particular event gets fired, though maybe that's also a tutorial thing\n* but all the will make tutorial tightly coupled to tutorial step\n* what if a tutorial-step was self-sufficient and knew what its next step was?\n* I like being able to declare them all in one spot, though\n */\nAFRAME.registerComponent('tutorial-step', {\n    schema: {\n        dur: {\n            type: 'number'\n        },\n        controllerTypes: {\n            type: 'array'\n        },\n        triggerEvent: {\n            type: 'string'\n        },\n        anchor: {\n            type: 'selector',\n            default: 'a-camera'\n        },\n        offset: {\n            type: 'vec3',\n            default: { x: 0, y: 0, z: -1 }\n        },\n        textvalue: {\n            type: 'string'\n        }\n    },\n\n    init() {\n        this.handleAnimationComplete = this.handleAnimationComplete.bind(this);\n        this.handleTriggerEvent = this.handleTriggerEvent.bind(this);\n        this.stepEl = document.createElement('a-text-panel');\n        this.stepEl.object3D.visible = false;\n        this.stepEl.setAttribute('opacity', 0);\n        this.stepEl.setAttribute('textopacity', 0);\n        const fadeinProps = {\n            dur: 300,\n            easing: 'linear',\n            from: 0,\n            to: 1,\n            startEvents: 'show-step'\n        };\n        this.stepEl.setAttribute('animation__fadein_panel', { property: 'opacity', ...fadeinProps });\n        this.stepEl.setAttribute('animation__fadein_text', { property: 'textopacity', ...fadeinProps });\n        const fadeoutProps = {\n            dur: 300,\n            easing: 'linear',\n            from: 1,\n            to: 0,\n            startEvents: 'hide-step'\n        };\n        this.stepEl.setAttribute('animation__fadeout_panel', { property: 'opacity', ...fadeoutProps });\n        this.stepEl.setAttribute('animation__fadeout_text', { property: 'textopacity', dur: 100, ...fadeoutProps });\n        this.stepEl.addEventListener('animationcomplete', this.handleAnimationComplete);\n    },\n\n    handleAnimationComplete(e) {\n        if (e.detail.name === 'animation__fadeout_panel') {\n            this.stepEl.object3D.visible = false;\n        }\n    },\n\n    handleTriggerEvent(e) {\n        console.log('triggerEvent', e);\n        this.el.emit('next-step');\n    },\n\n    update(oldData) {\n        if (this.timeoutId) {\n            window.clearTimeout(this.timeoutId);\n        }\n        this.stepEl.setAttribute('textvalue', this.data.textvalue);\n        this.stepEl.setAttribute('position', this.data.offset);\n        if (this.data.anchor !== oldData.anchor) {\n            if (oldData.anchor) {\n                oldData.anchor.removeChild(this.stepEl);\n            }\n            this.data.anchor.appendChild(this.stepEl);\n        }\n    },\n\n    remove() {\n        this.data.anchor.removeChild(this.stepEl);\n        this.stepEl.removeEventListener('animationcomplete', this.handleAnimationComplete);\n    },\n\n    show() {\n        this.stepEl.object3D.visible = true;\n        if (this.data.triggerEvent) {\n            this.el.sceneEl.addEventListener(this.data.triggerEvent, this.handleTriggerEvent);\n        }\n\n        this.stepEl.emit('show-step');\n        if (this.data.dur && !this.timeoutId) {\n            this.timeoutId = window.setTimeout(() => {\n                this.timeoutId = null;\n                this.el.emit('next-step');\n            }, this.data.dur);\n        }\n    },\n\n    hide() {\n        if (this.timeoutId) {\n            window.clearTimeout(this.timeoutId);\n        }\n        if (this.data.triggerEvent) {\n            this.el.sceneEl.removeEventListener(this.data.triggerEvent, this.handleTriggerEvent);\n        }\n        this.stepEl.emit('hide-step');\n    }\n});\n","import 'aframe';\n\nconst { AFRAME } = window;\n\nAFRAME.registerComponent('tutorial', {\n    schema: {\n        currentStep: {\n            type: 'number',\n            default: -1\n        }\n    },\n\n    init() {\n        this.superHands = document.querySelector('[progressive-controls]');\n        this.handleControllerChange = this.handleControllerChange.bind(this);\n        this.superHands.addEventListener('controller-progressed', this.handleControllerChange);\n        this.tutorialSteps = this.el.querySelectorAll('[tutorial-step]');\n        this.handleNextStep = this.handleNextStep.bind(this);\n        this.el.addEventListener('next-step', this.handleNextStep);\n        this.handleStartTutorial = this.handleStartTutorial.bind(this);\n        this.startTutorialButton = document.querySelector('#start-tutorial');\n        this.startTutorialButton.addEventListener('clicked', this.handleStartTutorial);\n        this.handleControllerChange();\n    },\n\n    remove() {\n        this.el.sceneEl.removeEventListener('target-selected', this.handleNextStep);\n        this.el.removeEventListener('next-step', this.handleNextStep);\n        this.startTutorialButton.removeEventListener('clicked', this.handleStartTutorial);\n    },\n\n    update(oldData) {\n        if (this.data.currentStep !== oldData.currentStep && this.data.currentStep >= 0) {\n            this.transition(oldData.currentStep, this.data.currentStep);\n        }\n    },\n\n    transition(prevStep, nextStep) {\n        if (prevStep !== undefined && prevStep >= 0 && this.tutorialSteps[prevStep]) {\n            this.tutorialSteps[prevStep].components['tutorial-step'].hide();\n        }\n        if (this.timer) {\n            window.clearTimeout(this.timer);\n        }\n        if (nextStep < this.tutorialSteps.length) {\n            this.timer = window.setTimeout(() => {\n                this.tutorialSteps[nextStep].components['tutorial-step'].show();\n                this.timer = null;\n            }, 300);\n        }\n    },\n\n    handleStartTutorial() {\n        if (this.data.currentStep < 0) {\n            this.el.setAttribute('tutorial', 'currentStep', 0);\n        }\n    },\n\n    handleControllerChange() {\n        // gaze, desktop, single point, multipointer\n        const progressiveControls = this.superHands.components['progressive-controls'];\n        const lvl = progressiveControls.currentLevel.get('right');\n        const level = progressiveControls.levels[lvl];\n        let controllerType = '';\n        if (level === 'gaze') {\n            if (!AFRAME.utils.device.checkHeadsetConnected()) {\n                controllerType = 'desktop';\n            } else {\n                controllerType = 'gaze';\n            }\n        } else if (progressiveControls.currentLevel.size === 1) {\n            controllerType = 'singlePointer';\n        } else {\n            controllerType = 'doublePointer';\n        }\n        this.determineRelevantSteps(controllerType);\n    },\n\n    determineRelevantSteps(controllerType) {\n        const tutorialSteps = this.el.querySelectorAll('[tutorial-step]');\n        this.tutorialSteps = [];\n        for (let i = 0; i < tutorialSteps.length; i += 1) {\n            const step = tutorialSteps[i];\n            const types = step.getAttribute('tutorial-step').controllerTypes;\n            if (types.length === 0 || types.includes(controllerType)) {\n                this.tutorialSteps.push(step);\n            }\n        }\n    },\n\n    handleNextStep() {\n        let nextStep = (this.data.currentStep + 1);\n        if (nextStep > this.tutorialSteps.length) {\n            nextStep = -1;\n        }\n        this.el.setAttribute('tutorial', 'currentStep', nextStep);\n    }\n});\n","import 'aframe';\n\nconst { AFRAME } = window;\n\nAFRAME.registerComponent('help', {\n    init() {\n        this.superHands = document.querySelector('[progressive-controls]');\n        this.handleControllerChange = this.handleControllerChange.bind(this);\n        this.superHands.addEventListener('controller-progressed', this.handleControllerChange);\n        this.hideHelp = this.hideHelp.bind(this);\n        this.el.sceneEl.addEventListener('year-changed', this.hideHelp);\n        this.el.sceneEl.addEventListener('target-selected', this.hideHelp);\n        this.helpEls = {};\n    },\n\n    remove() {\n        this.superHands.removeEventListener('controller-progressed', this.handleControllerChange);\n        this.el.sceneEl.removeEventListener('year-changed', this.hideHelp);\n        this.el.sceneEl.removeEventListener('target-selected', this.hideHelp);\n        this.clearHelpEls();\n    },\n\n    handleControllerChange(evt) {\n        if (evt.detail.level === 'gaze') {\n            this.setupGazeHelp(evt.target);\n        } else if (evt.detail.hand === 'right') {\n            this.setupRightPointerHelp(evt.target);\n        } else {\n            this.setupLeftPointerHelp(evt.target);\n        }\n        this.showHelp();\n    },\n\n    createTextPanel(text) {\n        const textPanel = document.createElement('a-entity');\n        textPanel.setAttribute('geometry', { primitive: 'plane', height: 'auto' });\n        textPanel.setAttribute('material', 'shader', 'flat');\n        textPanel.setAttribute('material', 'color', 'white');\n        textPanel.setAttribute('material', 'opacity', '0.75');\n        textPanel.setAttribute('text', 'color', 'black');\n        // textPanel.setAttribute('text', 'zOffset', '0.01');\n        textPanel.setAttribute('text', 'value', text);\n        return textPanel;\n    },\n\n    setupGazeHelp(controlsEl) {\n        this.clearPointerHelpEls();\n        let helpText = 'Gaze at something for 1 second to select it.';\n        if (!AFRAME.utils.device.isMobile()) {\n            helpText += '\\nUse the w-a-s-d keys to move around.';\n        }\n        const gazeHelp = this.createTextPanel(helpText);\n        gazeHelp.setAttribute('text', 'wrapCount', '15');\n        gazeHelp.setAttribute('geometry', 'width', '0.5');\n        gazeHelp.setAttribute('text', 'align', 'center');\n        gazeHelp.setAttribute('position', '0.3 0 -2');\n        const gazeEl = controlsEl.components['progressive-controls'].caster;\n        gazeEl.parentEl.appendChild(gazeHelp);\n        this.helpEls.gazeHelp = gazeHelp;\n    },\n\n    setupRightPointerHelp(controlsEl) {\n        this.clearGazeHelpEl();\n        const helpText = `To select something, point the laser at it and pull the trigger button.\\n\n        To move the map, point the laser at it, hold down the grip buttons, and move the controller.`;\n        const rightPointerHelpEl = this.createTextPanel(helpText);\n        rightPointerHelpEl.setAttribute('geometry', 'width', '0.18');\n        rightPointerHelpEl.setAttribute('text', 'wrapCount', '20');\n        rightPointerHelpEl.setAttribute('text', 'align', 'left');\n        rightPointerHelpEl.setAttribute('position', '0.15 0 0.05');\n        rightPointerHelpEl.setAttribute('rotation', '-90 0 0');\n        const rightPointer = controlsEl.components['progressive-controls'].right;\n        rightPointer.appendChild(rightPointerHelpEl);\n        this.helpEls.rightPointerHelpEl = rightPointerHelpEl;\n    },\n\n    setupLeftPointerHelp(controlsEl) {\n        this.clearGazeHelpEl();\n        /* eslint-disable max-len */\n        const helpText = `To resize the map, point both the lasers at the map, hold down both triggers, and move the controllers apart or together.\\n\n        To resize and move the map at the same time, point both the lasers at the map, hold down the grip buttons on both controllers, and move the controllers around.`;\n        /* eslint-enable max-len */\n        const leftPointerHelpEl = this.createTextPanel(helpText);\n        leftPointerHelpEl.setAttribute('geometry', 'width', '0.18');\n        leftPointerHelpEl.setAttribute('text', 'wrapCount', '20');\n        leftPointerHelpEl.setAttribute('text', 'align', 'left');\n        leftPointerHelpEl.setAttribute('position', '-0.15 0 0.05');\n        leftPointerHelpEl.setAttribute('rotation', '-90 0 0');\n        const leftPointer = controlsEl.components['progressive-controls'].left;\n        leftPointer.appendChild(leftPointerHelpEl);\n        this.helpEls.leftPointerHelpEl = leftPointerHelpEl;\n    },\n\n    showHelp() {\n        Object.keys(this.helpEls).forEach((key) => {\n            const helpEl = this.helpEls[key];\n            helpEl.setAttribute('visible', true);\n        });\n    },\n\n    hideHelp() {\n        Object.keys(this.helpEls).forEach((key) => {\n            const helpEl = this.helpEls[key];\n            helpEl.setAttribute('visible', false);\n        });\n    },\n\n    clearGazeHelpEl() {\n        if (this.helpEls.gazeHelp) {\n            this.helpEls.gazeHelp.parentEl.removeChild(this.helpEls.gazeHelp);\n            delete this.helpEls.gazeHelp;\n        }\n    },\n\n    clearPointerHelpEls() {\n        if (this.helpEls.rightPointerHelpEl) {\n            this.helpEls.rightPointerHelpEl.parentEl.removeChild(this.helpEls.rightPointerHelpEl);\n            delete this.helpEls.rightPointerHelpEl;\n        }\n        if (this.helpEls.leftPointerHelpEl) {\n            this.helpEls.leftPointerHelpEl.parentEl.removeChild(this.helpEls.leftPointerHelpEl);\n            delete this.helpEls.leftPointerHelpEl;\n        }\n    },\n\n    clearHelpEls() {\n        this.clearGazeHelpEl();\n        this.clearPointerHelpEls();\n    }\n});\n","import 'aframe';\nimport { YEARS } from './constants';\n\nconst { AFRAME } = window;\n\n// For Google Tag Manager custom events\nwindow.dataLayer = window.dataLayer || [];\n\n/**\n * Displays a selectable button for each year\n */\nAFRAME.registerComponent('year-selector', {\n    schema: {\n        selectedYear: {\n            type: 'string'\n        },\n        selectionColor: {\n            type: 'color',\n            default: '#E5C601'\n        }\n    },\n\n    init() {\n        this.handleHoverStart = this.handleHoverStart.bind(this);\n        this.handleHoverEnd = this.handleHoverEnd.bind(this);\n        this.handleStateChange = this.handleStateChange.bind(this);\n        this.createButtons();\n    },\n\n    update(oldData) {\n        if (this.data.selectedYear !== oldData.selectedYear || this.data.selectionColor !== oldData.selectionColor) {\n            YEARS.forEach((year) => {\n                const button = this.buttons[year];\n                if (year === this.data.selectedYear) {\n                    button.setAttribute('material', 'color', this.data.selectionColor);\n                } else {\n                    button.setAttribute('material', 'color', '#FFFFFF');\n                }\n            });\n        }\n        if (this.data.selectedYear !== oldData.selectedYear) {\n            this.el.emit('year-changed', { year: this.data.selectedYear }, true);\n            window.dataLayer.push({\n                event: 'year-changed',\n                year: this.data.selectedYear\n            });\n        }\n    },\n\n    remove() {\n        YEARS.forEach((year) => {\n            const button = this.buttons[year];\n            const buttonBorder = button.querySelector('.border');\n            buttonBorder.removeEventListener('hover-start', this.handleHoverStart);\n            buttonBorder.removeEventListener('hover-end', this.handleHoverEnd);\n        });\n    },\n\n    handleStateChange(evt) {\n        if (evt.detail === 'clicked') {\n            YEARS.forEach((year) => {\n                const button = this.buttons[year];\n                if (button === evt.target) {\n                    button.setAttribute('material', 'color', this.data.selectionColor);\n                    this.el.setAttribute('year-selector', 'selectedYear', year);\n                } else {\n                    button.setAttribute('material', 'color', '#FFFFFF');\n                }\n            });\n        }\n    },\n\n    handleHoverStart(evt) {\n        const buttonBorder = evt.target;\n        buttonBorder.setAttribute('material', 'color', this.data.selectionColor);\n        if (evt.detail.hand.components.haptics) {\n            evt.detail.hand.components.haptics.pulse(0.2, 10);\n        }\n    },\n\n    handleHoverEnd(evt) {\n        const buttonBorder = evt.target;\n        buttonBorder.setAttribute('material', 'color', 'black');\n    },\n\n    createButtons() {\n        let xPos = 0;\n        const buttonWidth = 0.5;\n        this.buttons = {};\n        YEARS.forEach((year) => {\n            const button = document.createElement('a-entity');\n            button.setAttribute('geometry', { primitive: 'plane', height: 0.25, width: buttonWidth });\n            button.setAttribute('class', 'selectable');\n            button.setAttribute('clickable', {});\n            button.setAttribute('onclick', 'this.emit(\"grab-start\", {}); this.emit(\"grab-end\", {});');\n            button.addEventListener('stateadded', this.handleStateChange);\n            button.setAttribute('position', `${xPos} 0 0`);\n            button.setAttribute('material', 'shader', 'flat');\n            button.setAttribute('material', 'color', '#FFFFFF');\n            button.setAttribute('text', 'value', year);\n            button.setAttribute('text', 'color', 'black');\n            button.setAttribute('text', 'wrapCount', '4');\n            button.setAttribute('text', 'align', 'center');\n            button.setAttribute('text', 'zOffset', '0.05');\n\n            const buttonBorder = document.createElement('a-plane');\n            buttonBorder.setAttribute('class', 'border');\n            buttonBorder.setAttribute('hoverable', {});\n            buttonBorder.setAttribute('position', '0 0 -0.005');\n            buttonBorder.setAttribute('material', 'shader', 'flat');\n            buttonBorder.setAttribute('material', 'color', 'black');\n            buttonBorder.setAttribute('height', 0.29);\n            buttonBorder.setAttribute('width', buttonWidth + 0.04);\n            buttonBorder.addEventListener('hover-start', this.handleHoverStart);\n            buttonBorder.addEventListener('hover-end', this.handleHoverEnd);\n\n            button.appendChild(buttonBorder);\n\n            this.buttons[year] = button;\n            this.el.appendChild(button);\n            xPos += (buttonWidth + (buttonWidth * 0.1));\n        });\n    }\n});\n","import 'aframe';\nimport { format } from 'd3-format';\n\nconst { AFRAME } = window;\n\nAFRAME.registerComponent('selection-info', {\n    schema: {\n        state: {\n            type: 'string'\n        },\n        candidate: {\n            type: 'string'\n        },\n        party: {\n            type: 'string'\n        },\n        votes: {\n            type: 'number'\n        },\n        electoralVotes: {\n            type: 'number'\n        },\n        totalVotes: {\n            type: 'number'\n        },\n        percentage: {\n            type: 'number'\n        },\n        color: {\n            type: 'color'\n        }\n    },\n\n    init() {\n        this.voteFormatter = format(',');\n        this.totalVoteFormatter = format('.3s');\n        this.percentageFormatter = format('.3p');\n    },\n\n    getInfoText() {\n        return `${this.data.state}\n            ${this.data.candidate} (${this.data.party})\n            ${this.data.electoralVotes} electoral votes\n            ${this.voteFormatter(this.data.votes)} votes\n            ${this.percentageFormatter(this.data.percentage)} of ${this.totalVoteFormatter(this.data.totalVotes)} total`;\n    }\n});\n","import 'aframe';\n\nconst { AFRAME } = window;\nconst { THREE } = AFRAME;\n\n// For Google Tag Manager custom events\nwindow.dataLayer = window.dataLayer || [];\n\n/**\n * Responds to a selection event on part of the map.\n */\nAFRAME.registerComponent('selection-handler', {\n    init() {\n        this.selectionBox = new THREE.Box3Helper(new THREE.Box3(), 'black');\n        this.selectionBox.visible = false;\n        this.el.setObject3D('selectionBox', this.selectionBox);\n\n        this.stateBox = new THREE.Box3();\n        this.infoPanelAnchorPosition = new THREE.Vector3();\n\n        this.infoPanel = document.querySelector('#info-panel');\n        this.infoPanelText = document.querySelector('#info-panel-text');\n        this.infoPanelHighlight = document.querySelector('#info-panel-highlight');\n\n        this.superHands = document.querySelector('[progressive-controls]');\n        this.handleControllerChange = this.handleControllerChange.bind(this);\n        this.superHands.addEventListener('controller-progressed', this.handleControllerChange);\n\n        this.handleSelection = this.handleSelection.bind(this);\n        this.turnSelectionOff = this.turnSelectionOff.bind(this);\n        this.el.sceneEl.addEventListener('year-changed', this.turnSelectionOff);\n        this.handleControllerChange();\n    },\n\n    handleControllerChange() {\n        const progressiveControls = this.superHands.components['progressive-controls'];\n        const lvl = progressiveControls.currentLevel.get('right');\n        const level = progressiveControls.levels[lvl];\n        if (level === 'gaze') {\n            this.el.removeEventListener('grab-end', this.handleSelection);\n            this.el.addEventListener('click', this.handleSelection);\n        } else {\n            this.el.removeEventListener('click', this.handleSelection);\n            this.el.addEventListener('grab-end', this.handleSelection);\n        }\n    },\n\n    remove() {\n        this.el.removeEventListener('click', this.handleSelection);\n        this.el.removeEventListener('grab-end', this.handleSelection);\n        this.superHands.removeEventListener('controller-progressed', this.handleControllerChange);\n        this.el.sceneEl.removeEventListener('year-changed', this.turnSelectionOff);\n    },\n\n    handleSelection(evt) {\n        const targetEl = evt.target;\n        this.el.emit('target-selected', { targetEl }, true);\n        if (this.isAlreadySelected(targetEl)) {\n            this.turnSelectionOff();\n        } else if (this.isSelectable(targetEl)) {\n            this.setSelectionTo(targetEl);\n        }\n    },\n\n    isAlreadySelected(targetEl) {\n        return (targetEl === this.selected);\n    },\n\n    isSelectable(targetEl) {\n        return !!(targetEl.components['selection-info']);\n    },\n\n    setSelectionTo(targetEl) {\n        this.selected = targetEl;\n        const selectedObj = this.selected.getObject3D('mesh');\n        selectedObj.geometry.computeBoundingBox();\n        this.showSelectionBoxFor(selectedObj);\n        this.showInfoPanel(selectedObj);\n    },\n\n    showSelectionBoxFor(selectedObj) {\n        const selectedObjWorldCenter = selectedObj.getWorldPosition();\n        const boxCenter = this.el.object3D.worldToLocal(selectedObjWorldCenter);\n\n        const selectionBox = new THREE.Box3();\n        selectionBox.setFromCenterAndSize(boxCenter, selectedObj.geometry.boundingBox.getSize());\n\n        this.selectionBox.box = selectionBox;\n        this.selectionBox.visible = true;\n    },\n\n    showInfoPanel() {\n        const selectionInfoComp = this.selected.components['selection-info'];\n        this.infoPanelText.setAttribute('value', selectionInfoComp.getInfoText());\n\n        this.calculateInfoPanelAnchorPosition();\n        this.infoPanel.object3D.position.copy(this.infoPanelAnchorPosition);\n\n        this.infoPanelHighlight.setAttribute('color', `#${selectionInfoComp.data.color}`);\n\n        this.infoPanel.object3D.visible = true;\n\n        const { state, candidate } = selectionInfoComp.data;\n\n        window.dataLayer.push({\n            event: 'data-selected',\n            state,\n            candidate\n        });\n    },\n\n    calculateInfoPanelAnchorPosition() {\n        this.stateBox.setFromObject(this.selected.parentEl.object3D);\n        this.stateBox.getCenter(this.infoPanelAnchorPosition);\n        this.infoPanelAnchorPosition.setY(this.stateBox.max.y + 0.75);\n    },\n\n    needsPositionUpdate() {\n        return !(this.infoPanel.object3D.position.equals(this.infoPanelAnchorPosition));\n    },\n\n    tick() {\n        if (this.selected) {\n            this.calculateInfoPanelAnchorPosition();\n            if (this.needsPositionUpdate()) {\n                this.infoPanel.object3D.position.copy(this.infoPanelAnchorPosition);\n            }\n        }\n    },\n\n    turnSelectionOff() {\n        this.infoPanel.object3D.visible = false;\n        this.selectionBox.visible = false;\n        this.selected = null;\n    }\n});\n","import 'aframe';\n\nconst { AFRAME } = window;\nconst { THREE } = AFRAME;\n\n/**\n * Responds to the pointer hovering over a 'hoverable' part of the map.\n */\nAFRAME.registerComponent('hover-handler', {\n    init() {\n        this.hoverBox = new THREE.Box3Helper(new THREE.Box3(), 'darkgrey');\n        this.hoverBox.visible = false;\n        this.el.setObject3D('hoverBox', this.hoverBox);\n\n        this.handleHoverStart = this.handleHoverStart.bind(this);\n        this.el.addEventListener('hover-start', this.handleHoverStart);\n        this.handleHoverEnd = this.handleHoverEnd.bind(this);\n        this.el.addEventListener('hover-end', this.handleHoverEnd);\n        this.el.sceneEl.addEventListener('year-changed', this.handleHoverEnd);\n    },\n\n    remove() {\n        this.el.removeEventListener('hover-start', this.handleHoverStart);\n        this.el.removeEventListener('hover-end', this.handleHoverEnd);\n        this.el.sceneEl.removeEventListener('year-changed', this.handleHoverEnd);\n    },\n\n    handleHoverStart(evt) {\n        this.selected = evt.target;\n        if (this.selected.components.hoverable) {\n            const selectedObj = this.selected.getObject3D('mesh');\n            const selectedObjWorldCenter = selectedObj.getWorldPosition();\n            const boxCenter = this.el.object3D.worldToLocal(selectedObjWorldCenter);\n\n            selectedObj.geometry.computeBoundingBox();\n            const selectionBox = new THREE.Box3();\n            selectionBox.setFromCenterAndSize(boxCenter, selectedObj.geometry.boundingBox.getSize());\n\n            if (evt.detail.hand.components.haptics) {\n                evt.detail.hand.components.haptics.pulse(0.2, 10);\n            }\n            this.hoverBox.box = selectionBox;\n            this.hoverBox.visible = true;\n        }\n    },\n\n    handleHoverEnd() {\n        this.hoverBox.visible = false;\n        this.selected = null;\n    }\n});\n","import * as constants from './constants';\n\nconst candidateInfo = {\n    'Trump, Donald J.': {\n        firstName: 'Donald J.',\n        lastName: 'Trump',\n        party: 'R',\n        color: constants.REPUBLICAN_RED\n    },\n    'Clinton, Hillary': {\n        firstName: 'Hillary',\n        lastName: 'Clinton',\n        party: 'D',\n        color: constants.DEMOCRAT_BLUE\n    },\n    'Johnson, Gary': {\n        firstName: 'Gary',\n        lastName: 'Johnson',\n        party: 'LIB',\n        color: constants.LIBERTARIAN_GOLD\n    },\n    'Stein, Jill': {\n        firstName: 'Jill',\n        lastName: 'Stein',\n        party: 'GRE',\n        color: constants.GREEN_PARTY_GREEN\n    },\n    'McMullin, Evan': {\n        firstName: 'Evan',\n        lastName: 'McMullin',\n        party: 'IND',\n        color: constants.INDEPENDENT_PURPLE\n    },\n    'Obama, Barack': {\n        firstName: 'Barak',\n        lastName: 'Obama',\n        party: 'D',\n        color: constants.DEMOCRAT_BLUE\n    },\n    'Romney, Mitt': {\n        firstName: 'Mitt',\n        lastName: 'Romney',\n        party: 'R',\n        color: constants.REPUBLICAN_RED\n    },\n    'McCain, John': {\n        firstName: 'John',\n        lastName: 'McCain',\n        party: 'R',\n        color: constants.REPUBLICAN_RED\n    },\n    'Nader, Ralph': {\n        firstName: 'Ralph',\n        lastName: 'Nader',\n        party: 'IND',\n        color: constants.INDEPENDENT_PURPLE\n    },\n    'Barr, Bob': {\n        firstName: 'Bob',\n        lastName: 'Barr',\n        party: 'LIB',\n        color: constants.LIBERTARIAN_GOLD\n    },\n    'Bush, George W.': {\n        firstName: 'George W.',\n        lastName: 'Bush',\n        party: 'R',\n        color: constants.REPUBLICAN_RED\n    },\n    'Kerry, John F.': {\n        firstName: 'John F.',\n        lastName: 'Kerry',\n        party: 'D',\n        color: constants.DEMOCRAT_BLUE\n    },\n    'Badnarik, Michael': {\n        firstName: 'Michael',\n        lastName: 'Badnarik',\n        party: 'LIB',\n        color: constants.LIBERTARIAN_GOLD\n    }\n};\n\nexport default candidateInfo;\n","import 'aframe';\nimport { scaleLinear } from 'd3-scale';\nimport * as constants from './constants';\nimport candidateInfo from './candidate-info';\n\nconst { AFRAME } = window;\nconst { THREE } = AFRAME;\n\nconst invisibleMaterial = new THREE.MeshBasicMaterial({ visible: false });\n\nconst createExtrudedAndScaledGeometry = (height, stateShapes, percentage, zPosition) => {\n    const extrudeSettings = {\n        amount: height,\n        bevelEnabled: false\n    };\n\n    const extrudedFeatureGeometry = new THREE.ExtrudeGeometry(stateShapes, extrudeSettings);\n    extrudedFeatureGeometry.computeBoundingBox();\n    const center = extrudedFeatureGeometry.boundingBox.getCenter();\n    extrudedFeatureGeometry.center();\n    extrudedFeatureGeometry.scale(percentage, percentage, 1);\n    extrudedFeatureGeometry.translate(center.x, center.y, center.z + zPosition);\n    return extrudedFeatureGeometry;\n};\nconst createExtrudedAndScaledGeometryPerShape = (height, stateShapes, percentage, zPosition) => {\n    const extrudeSettings = {\n        amount: height,\n        bevelEnabled: false\n    };\n    const extrudeGeometry = new THREE.Geometry();\n    stateShapes.forEach((stateShape) => {\n        const extrudedFeatureGeometry = new THREE.ExtrudeGeometry(stateShape, extrudeSettings);\n        extrudedFeatureGeometry.computeBoundingBox();\n        const center = extrudedFeatureGeometry.boundingBox.getCenter();\n        extrudedFeatureGeometry.center();\n        extrudedFeatureGeometry.scale(percentage, percentage, 1);\n        extrudedFeatureGeometry.translate(center.x, center.y, center.z + zPosition);\n\n        extrudeGeometry.merge(extrudedFeatureGeometry);\n    });\n    return extrudeGeometry;\n};\n\nconst createSelectionMask = (inputGeometry, name, attributes) => {\n    const selectionMaskGeometry = new THREE.BufferGeometry();\n    selectionMaskGeometry.fromGeometry(inputGeometry);\n    selectionMaskGeometry.computeBoundingBox();\n    const center = selectionMaskGeometry.boundingBox.getCenter();\n    selectionMaskGeometry.translate(-center.x, -center.y, -center.z);\n\n    const mesh = new THREE.Mesh(selectionMaskGeometry, invisibleMaterial);\n    mesh.name = name;\n    const selectionMaskEntity = document.createElement('a-entity');\n    selectionMaskEntity.setAttribute('id', name);\n    selectionMaskEntity.setAttribute('position', center);\n    selectionMaskEntity.setAttribute('class', 'selectable');\n    selectionMaskEntity.setAttribute('selection-info', attributes);\n    selectionMaskEntity.setAttribute('hoverable', '');\n    selectionMaskEntity.setObject3D('mesh', mesh);\n    return selectionMaskEntity;\n};\n\nAFRAME.registerComponent('cartogram-renderer', {\n    dependencies: ['geo-projection'],\n    schema: {\n        maxExtrudeHeight: {\n            default: 1.6\n        }\n    },\n    init() {\n        this.geoProjectionComponent = this.el.components['geo-projection'];\n        this.system = this.el.sceneEl.systems['geo-projection'];\n        this.handleGeoDataReady = this.handleGeoDataReady.bind(this);\n        this.handleElectionDataReady = this.handleElectionDataReady.bind(this);\n        this.el.addEventListener('geo-data-ready', this.handleGeoDataReady);\n        this.el.addEventListener('election-data-loaded', this.handleElectionDataReady);\n    },\n    remove() {\n        this.el.removeEventListener('geo-data-ready', this.handleGeoDataReady);\n        this.el.removeEventListener('election-data-loaded', this.handleElectionDataReady);\n        this.clearMap(true);\n    },\n    update(oldData) {\n        if (this.data.maxExtrudeHeight !== oldData.maxExtrudeHeight) {\n            this.render();\n        }\n    },\n    handleGeoDataReady() {\n        this.render();\n    },\n    handleElectionDataReady(evt) {\n        const electionDataLoadEvent = evt.detail;\n        this.votesByFipsCode = electionDataLoadEvent.votesByFipsCode;\n        this.maxTotalVoters = electionDataLoadEvent.maxTotalVoters;\n        this.render();\n    },\n    isReady() {\n        return !!(this.votesByFipsCode && this.geoProjectionComponent.geoJson);\n    },\n    render() {\n        this.clearMap();\n        if (!this.isReady()) return;\n\n        // Determine the vertical scale for the entire country using the state with the largest number of total voters\n        // as equaling the max extrude height\n        const extrudeScale = scaleLinear()\n            .domain([0, this.maxTotalVoters])\n            .range([0, this.data.maxExtrudeHeight]);\n\n        const candidateMetadata = {};\n\n        this.geoProjectionComponent.geoJson.features.forEach((feature) => {\n            const votingData = this.votesByFipsCode[feature.id];\n            const mapRenderContext = this.system.renderToContext(feature, this.geoProjectionComponent.projection);\n            const stateShapes = mapRenderContext.toShapes();\n\n            let zPosition = 0;\n\n            const stateSelectionEntity = document.createElement('a-entity');\n            stateSelectionEntity.setAttribute('id', `state-${feature.id}`);\n            stateSelectionEntity.setAttribute('class', 'state-selection-mask');\n\n            votingData.forEach((candidateData) => {\n                const percentage = (candidateData.votes / candidateData.totalVoters);\n                const height = extrudeScale(candidateData.votes);\n\n                if (!candidateMetadata[candidateData.name]) {\n                    const info = candidateInfo[candidateData.name];\n                    candidateMetadata[candidateData.name] = {\n                        geometry: new THREE.Geometry(),\n                        ...info\n                    };\n                }\n                const candidateMetadatum = candidateMetadata[candidateData.name];\n                const extrudeGeometry = candidateMetadatum.geometry;\n\n                // Hawaii, Alaska, and Michigan look better when rendered per shape\n                let featureGeometry;\n                if (feature.id === '15' || feature.id === '02' || feature.id === '26') {\n                    featureGeometry = createExtrudedAndScaledGeometryPerShape(height, stateShapes, percentage, zPosition);\n                } else {\n                    featureGeometry = createExtrudedAndScaledGeometry(height, stateShapes, percentage, zPosition);\n                }\n                extrudeGeometry.merge(featureGeometry);\n\n                const candidateName = `${candidateMetadatum.firstName} ${candidateMetadatum.lastName}`;\n                const attributes = {\n                    state: feature.properties.name,\n                    candidate: candidateName,\n                    party: candidateMetadatum.party,\n                    votes: candidateData.votes,\n                    electoralVotes: candidateData.electoralVotes,\n                    percentage,\n                    totalVotes: candidateData.totalVoters,\n                    color: candidateMetadatum.color.getHexString()\n                };\n                const selectionMask = createSelectionMask(featureGeometry, `${feature.id}-${candidateMetadatum.lastName}`, attributes);\n                stateSelectionEntity.appendChild(selectionMask);\n                zPosition += height;\n            });\n            this.el.appendChild(stateSelectionEntity);\n        });\n\n        Object.keys(candidateMetadata).forEach((candidateName) => {\n            const candidateMetadatum = candidateMetadata[candidateName];\n            // Convert the extrude geometry into a buffer geometry for better rendering performance\n            const extrudeBufferGeometry = new THREE.BufferGeometry();\n            extrudeBufferGeometry.fromGeometry(candidateMetadatum.geometry);\n\n            const material = new THREE.MeshLambertMaterial({ color: candidateMetadatum.color });\n            const extrudedMap = new THREE.Mesh(extrudeBufferGeometry, material);\n            this.el.setObject3D(candidateName, extrudedMap);\n        });\n\n        const mapRenderContextForOutline = this.system.renderToContext(this.geoProjectionComponent.geoJson, this.geoProjectionComponent.projection);\n        const stateOutlineGeometry = new THREE.BufferGeometry();\n        const stateOutlineVertices = mapRenderContextForOutline.toVertices();\n        stateOutlineGeometry.addAttribute('position', new THREE.Float32BufferAttribute(stateOutlineVertices, 3));\n        const stateOutlineMaterial = new THREE.LineBasicMaterial({ color: constants.DARK_GRAY });\n        const stateOutlines = new THREE.LineSegments(stateOutlineGeometry, stateOutlineMaterial);\n        this.el.setObject3D('lines', stateOutlines);\n    },\n    clearMap(clearAll = false) {\n        Object.keys(this.el.object3DMap).forEach((key) => {\n            if (clearAll || !['hoverBox', 'selectionBox', 'outlineMap'].includes(key)) {\n                this.el.removeObject3D(key);\n            }\n        });\n        this.el.querySelectorAll('.state-selection-mask').forEach((maskEl) => {\n            this.el.removeChild(maskEl);\n        });\n    }\n});\n","import 'aframe';\nimport maxVoters from './assets/maxvoters.json';\n\nconst { AFRAME } = window;\n\nAFRAME.registerComponent('election-data-loader', {\n    schema: {\n        year: {\n            type: 'string'\n        }\n    },\n\n    init() {\n        this.handleDataLoaded = this.handleDataLoaded.bind(this);\n        this.handleYearChanged = this.handleYearChanged.bind(this);\n        this.el.sceneEl.addEventListener('year-changed', this.handleYearChanged);\n        this.yearText = document.querySelector('#year');\n    },\n\n    remove() {\n        this.el.sceneEl.removeEventListener('year-changed', this.handleYearChanged);\n    },\n\n    update(oldData) {\n        if (this.data.year && this.data.year !== oldData.year) {\n            fetch(`assets/federalelections${this.data.year}.json`)\n                .then(response => response.json())\n                .then(this.handleDataLoaded)\n                .then(() => { this.yearText.setAttribute('value', this.data.year); })\n                .catch((error) => { console.error(error); });\n        }\n    },\n\n    handleYearChanged(evt) {\n        this.el.setAttribute('election-data-loader', 'year', evt.detail.year);\n    },\n\n    handleDataLoaded(votingData) {\n        const votesByFipsCode = votingData.reduce((accum, d) => {\n            if (!accum[d.fips]) {\n                accum[d.fips] = [];\n            }\n            accum[d.fips].push(d);\n            return accum;\n        }, {});\n        const maxTotalVoters = maxVoters.totalVoters;\n        this.el.emit('election-data-loaded', { votesByFipsCode, maxTotalVoters });\n    }\n});\n","import 'aframe';\nimport 'aframe-geo-projection-component';\nimport 'super-hands';\nimport 'aframe-animation-component';\nimport 'aframe-haptics-component';\nimport 'aframe-look-at-component';\nimport './election-data-loader';\nimport './cartogram-renderer';\nimport './hover-handler';\nimport './selection-handler';\nimport './selection-info';\nimport './year-selector';\nimport './help';\nimport './tutorial';\nimport './tutorial-step';\nimport './text-panel';\nimport './button';\nimport './progressive-controls';\n"],"sourceRoot":""}